remotes::install_github("anthonynorth/rscodeio")
install.packages("remotes")
remotes::install_github("anthonynorth/rscodeio")
rscodeio::install_theme()
rscodeio::install_theme()
install.packages("rscodeio")
rscodeio::install_theme()
remotes::install_github("anthonynorth/rscodeio")
install.packages("remotes")
remotes::install_github("anthonynorth/rscodeio")
rscodeio::install_theme()
rscodeio::install_theme()
rscodeio::deactivate_menu_theme()
rscodeio::deactivate_menu_theme()
rscodeio::deactivate_menu_theme()
rscodeio::activate_menu_theme()
install.packages("data.table")
install.packages("ggplot2")
install.packages("lubridate")
#------------------------------------------------#
#
# File name: main.R
#
# Author: Nicolas Fernandez-Arias
#
# Purpose:
#
# This is the main script for the empirical component
#------------------------------------------------#
# Clear workspace
rm(list = ls())
#-----------------------#
# Preparing workspace
#-----------------------#
# Load data manipulation libraries
library(data.table)
library(parallel)
library(lubridate)
library(stringr)
library(zoo)
library(stringdist)
library(readstata13)
library(openxlsx)
library(foreign)
library(haven)
library(RColorBrewer)
# Load and set up plotting libraries
library(ggplot2)
library(estimatr)
library(ggthemr)
ggthemr("flat")# Set theme -- controls all plots
library(extrafont)
library(gridExtra)
library(gplots)
library(heatmap3)
library(xtable)
# Load specific functions
complete <- tidyr::complete
coalesce <- dplyr::coalesce
NaRV.omit <- IDPmisc::NaRV.omit
# Set working directory
setwd("~/Insync/nfernand@princeton.edu/Google Drive/PhD - Thesis/Research/Endogenous-growth-with-spinouts/empirics")
# Set some parameters
founderThreshold <- 3
mergerThreshold <- 1  # Startup is assigned to parent company from previous years, in case of acquisitions
minimumSpinoutsThreshold <- 10
excludeAltDG <- FALSE
fundingDiscountFactor <- 1.06
normalizeVariablesStata <- FALSE
startupSpinoutFounderFraction <- 0.1
VSminFoundingYear <- 1986
VSmaxFoundingYear <- 2008
technicalTitles <- c("CTO","FDR","CSO","CIO","SADV")
founderTitles <- c("CEO","CTO","CCEO","PCEO","PRE","PCHM","PCOO","FDR","CHF")
executiveTitles <- c(founderTitles,"CSO","COO","PCOO","CIO","CFO","CHF","CHMN","EVP","MDIR","MGR")
foundersToInclude <- c("founder2")
LargeStates <- c("CA","NY","TX","WA","MA","PA","CO","NC","NJ","GA","FL","MI","IL","VA","MD")
LargestStates <- c("CA","WA","MA","NY","TX")
LargestIndustries_1 <- c("5","3","4","6","7")
LargestIndustries_2 <- c("51","33","54","32","52")
LargestIndustries_3 <- c("511","334","541","325","519")
help(openxsls)
help(openxslx)
help(openxlsx)
library(readxl)
help(readxl)
dat <- fread("raw/sp returns/histretSP.xls")
compustat <- fread("raw/compustat/compustat_annual.csv")[indfmt=="INDL" & datafmt=="STD" & popsrc=="D" & consol=="C" & loc == "USA"]
rm(list = ls())
#------------------------------------------------#
#
# File name: main.R
#
# Author: Nicolas Fernandez-Arias
#
# Purpose:
#
# This is the main script for the empirical component
#------------------------------------------------#
# Clear workspace
rm(list = ls())
#-----------------------#
# Preparing workspace
#-----------------------#
# Load data manipulation libraries
library(data.table)
library(parallel)
library(lubridate)
library(stringr)
library(zoo)
library(stringdist)
library(readstata13)
library(openxlsx)
library(foreign)
library(haven)
library(RColorBrewer)
# Load and set up plotting libraries
library(ggplot2)
library(estimatr)
library(ggthemr)
ggthemr("flat")# Set theme -- controls all plots
library(extrafont)
library(gridExtra)
library(gplots)
library(heatmap3)
library(xtable)
# Load specific functions
complete <- tidyr::complete
coalesce <- dplyr::coalesce
NaRV.omit <- IDPmisc::NaRV.omit
# Set working directory
setwd("~/Insync/nfernand@princeton.edu/Google Drive/PhD - Thesis/Research/Endogenous-growth-with-spinouts/empirics")
# Set some parameters
founderThreshold <- 3
mergerThreshold <- 1  # Startup is assigned to parent company from previous years, in case of acquisitions
minimumSpinoutsThreshold <- 10
excludeAltDG <- FALSE
fundingDiscountFactor <- 1.06
normalizeVariablesStata <- FALSE
startupSpinoutFounderFraction <- 0.1
VSminFoundingYear <- 1986
VSmaxFoundingYear <- 2008
technicalTitles <- c("CTO","FDR","CSO","CIO","SADV")
founderTitles <- c("CEO","CTO","CCEO","PCEO","PRE","PCHM","PCOO","FDR","CHF")
executiveTitles <- c(founderTitles,"CSO","COO","PCOO","CIO","CFO","CHF","CHMN","EVP","MDIR","MGR")
foundersToInclude <- c("founder2")
LargeStates <- c("CA","NY","TX","WA","MA","PA","CO","NC","NJ","GA","FL","MI","IL","VA","MD")
LargestStates <- c("CA","WA","MA","NY","TX")
LargestIndustries_1 <- c("5","3","4","6","7")
LargestIndustries_2 <- c("51","33","54","32","52")
LargestIndustries_3 <- c("511","334","541","325","519")
dat <- fread("raw/fred/NCBCMDPMVCE.csv")
View(dat)
View(dat)
dat[ , year := year(ymd(DATE))]
dat <- dat[ year >= 1984 & year <= 2006]
dat <- dat[ year >= 1984 & year <= 2006]
View(dat)
setnames(dat,"NCBCMDPMVCE","debtToEquity")
dat <- fread("raw/fred/NCBCMDPMVCE.csv")
dat[ , year := year(ymd(DATE))]
dat[ , debtToEquity := mean(debtToEquity), by = year]
dat <- dat[ year >= 1984 & year <= 2006]
dat <- fread("raw/fred/NCBCMDPMVCE.csv")
setnames(dat,"NCBCMDPMVCE","debtToEquity")
dat[ , year := year(ymd(DATE))]
dat[ , debtToEquity := mean(debtToEquity), by = year]
dat <- dat[ year >= 1984 & year <= 2006]
View(dat)
View(dat)
dat <- fread("raw/fred/NCBCMDPMVCE.csv")
setnames(dat,"NCBCMDPMVCE","debtToEquity")
dat[ , year := year(ymd(DATE))]
dat[ , debtToEquity := mean(debtToEquity), by = year]
dat[ , debtToEquity := mean(as.numeric(debtToEquity)), by = year]
dat <- fread("raw/fred/NCBCMDPMVCE.csv")
setnames(dat,"NCBCMDPMVCE","debtToEquity")
dat[ , year := year(ymd(DATE))]
dat <- dat[ year >= 1984 & year <= 2006]
dat[ , debtToEquity := mean(as.numeric(debtToEquity)), by = year]
View(dat)
dat <- unique(dat, by = c("year"))
View(dat)
dat <- unique(dat, by = c("year"))[ , .(year,debtToEquity)]
View(dat)
averageDebtToEquity = mean(dat$debtToEquity)
View(dat)
averageDebtToEquity = dat[ , mean(debtToEquity)]
averageDebtToEquity = dat[ , mean(as.numeric(debtToEquity))]
View(dat)
debtToValue = averageDebtToEquity / (1 + averageDebtToEquity)
debtToValue = averageDebtToEquity / (100 + averageDebtToEquity)
debtToValue * 7.58 + (1-debtToValue) * 9.15
setwd("~/Insync/nfernand@princeton.edu/Google Drive/PhD - Thesis/Research/covid-19-data")
source("estimation.R")
source("projections.R")
max(UStotals[variable == "projectedDeaths_10"]$value, na.rm = TRUE)
max(UStotals[variable == "deaths"]$value, na.rm = TRUE)
#source("projectionTest.R")
